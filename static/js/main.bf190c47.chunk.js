(this["webpackJsonpweather-dashboard"]=this["webpackJsonpweather-dashboard"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(14),i=c.n(r),o=(c(19),c(3)),s=(c(20),c(0));var d=function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsx)("h1",{children:"Weather Dashboard"})})};c(22);var l=function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("p",{children:["Made with ",Object(s.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noreferrer noopener",children:"React"})]}),Object(s.jsx)("a",{id:"githb",href:"https://github.com/markkhoo/50-Weather-Dashboard-REACT",target:"_blank",rel:"noreferrer noopener",children:"GitHub"})]})};c(23);var h=function(e){var t;return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:(t=e.icon,"01d"===t||"01n"===t?"clear sky weather icon":"02d"===t||"02n"===t?"few clouds weather icon":"03d"===t||"03n"===t?"scattered clouds weather icon":"04d"===t||"04n"===t?"broken clouds weather icon":"09d"===t||"09n"===t?"shower rain weather icon":"10d"===t||"10n"===t?"rain weather icon":"11d"===t||"11n"===t?"thunderstorm weather icon":"13d"===t||"13n"===t?"snow weather icon":"50d"===t||"50n"===t?"mist weather icon":"weather icon")}),Object(s.jsx)("p",{className:"bold-font",children:e.date}),Object(s.jsxs)("p",{children:["Temp: ",e.temp]}),Object(s.jsxs)("p",{children:["Humidity: ",e.humidity]})]})},u=c(5),m=c.n(u),j="22bb6e2db366aab8539ac22df7b32d3a",b={searchCity:function(e,t){return m.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(t,"&appid=").concat(j))},searchLatLon:function(e,t,c){return m.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=").concat(c,"&exclude=minutely,hourly&appid=").concat(j))}};c(42);var p=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)("imperial"),i=Object(o.a)(r,2),u=i[0],m=i[1],j=Object(a.useState)([]),p=Object(o.a)(j,2),O=p[0],g=p[1],f=Object(a.useState)({name:"San Francisco",dt:0,main:{temp:"",humidity:""},weather:[{description:"",icon:"loading",id:"",main:""}],coord:{lat:0,lon:0}}),x=Object(o.a)(f,2),S=x[0],v=x[1],y=Object(a.useState)({current:{uvi:0},daily:[{dt:0,temp:{max:100,min:0},humidity:0,weather:[{description:"",icon:"loading",id:"",main:""}]}]}),w=Object(o.a)(y,2),N=w[0],_=w[1];Object(a.useEffect)((function(){localStorage.getItem("last_city")||localStorage.setItem("last_city",JSON.stringify("San Francisco")),n(JSON.parse(localStorage.getItem("last_city")));var e=JSON.parse(localStorage.getItem("stored_searches"));g(e)}),[]),Object(a.useEffect)((function(){k(JSON.parse(localStorage.getItem("last_city")),u),localStorage.getItem("stored_searches")||localStorage.setItem("stored_searches",JSON.stringify(["San Francisco"]))}),[u]);var I,J,k=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&!c&&b.searchCity(e,t).then((function(t){if(""!==e&&localStorage.setItem("last_city",JSON.stringify(t.data.name)),!JSON.parse(localStorage.getItem("stored_searches")).includes(t.data.name)){var c=JSON.parse(localStorage.getItem("stored_searches"));c.push(t.data.name),localStorage.setItem("stored_searches",JSON.stringify(c)),g(c)}return v(t.data),t.data})).then((function(e){b.searchLatLon("".concat(e.coord.lat),"".concat(e.coord.lon),t).then((function(e){_(e.data)})).catch((function(e){console.log(e)}))})).catch((function(t){console.log('"'.concat(e,'" is an invalid input'),t)}))},C=function(){var e={temp:"",speed:""};return"imperial"===u?(e.temp="\xb0F",e.speed="mph"):"metric"===u&&(e.temp="\xb0C",e.speed="m/s"),e},F=function(e){var t=new Date(1e3*e),c=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],n=t.getDate();return"".concat(a," ").concat(n,", ").concat(c)};return Object(s.jsxs)("div",{id:"root-child",children:[Object(s.jsx)(d,{}),Object(s.jsx)("div",{className:"main",children:Object(s.jsxs)("div",{className:"container-xl",children:[Object(s.jsxs)("div",{className:"nav",children:[Object(s.jsx)("p",{children:"Search by City"}),Object(s.jsxs)("div",{className:"search-container",children:[Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c!==JSON.parse(localStorage.getItem("last_city"))&&k(c,u)},children:[Object(s.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value.replace(" ","+").toLowerCase().split(",");n(t[0])},placeholder:"San Francisco"}),Object(s.jsx)("input",{type:"submit",value:"Submit"})]}),Object(s.jsx)("button",{className:"units",type:"button",onClick:function(){m("imperial"===u?"metric":"imperial")},children:"Change Units"})]}),Object(s.jsx)("p",{children:"Recent Searches"}),Object(s.jsx)("div",{className:"history-container",children:O&&O.map((function(e){return Object(s.jsx)("button",{onClick:function(){e!==JSON.parse(localStorage.getItem("last_city"))&&k(e,u)},children:e},e)}))})]}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsxs)("div",{className:"current ".concat((J=S.weather[0].icon,"01d"===J||"01n"===J?"clear_sky":"02d"===J||"02n"===J?"few_clouds":"03d"===J||"03n"===J?"scattered_clouds":"04d"===J||"04n"===J?"broken_clouds":"09d"===J||"09n"===J?"shower_rain":"10d"===J||"10n"===J?"rain":"11d"===J||"11n"===J?"thunderstorm":"13d"===J||"13n"===J?"snow":"50d"===J||"50n"===J?"mist":"loading")),children:[Object(s.jsx)("h1",{children:S.name}),Object(s.jsx)("p",{className:"bold-font",children:F(S.dt)}),Object(s.jsxs)("p",{children:["Tempurature: ",S.main.temp," ",C().temp]}),Object(s.jsxs)("p",{children:["Humidity: ",S.main.humidity,"%"]}),Object(s.jsxs)("p",{children:["UV Index: ",Object(s.jsx)("span",{className:"uv-block ".concat((I=N.current.uvi,I<=2?"UV-low":I<=5?"UV-medium":I<=7?"UV-high":I<=10?"UV-extreme":"UV-indeterminate")),children:N.current.uvi})]})]}),Object(s.jsx)("h2",{children:"5 Day Forecast"}),Object(s.jsx)("div",{className:"forecast",children:N&&N.daily.slice(1,6).map((function(e){return Object(s.jsx)(h,{date:F(e.dt),temp:"".concat(e.temp.max," ").concat(C().temp),humidity:"".concat(e.humidity,"%"),icon:e.weather[0].icon},"key-date-".concat(e.dt))}))})]})]})}),Object(s.jsx)(l,{})]})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,44)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root")),O()}},[[43,1,2]]]);
//# sourceMappingURL=main.bf190c47.chunk.js.map